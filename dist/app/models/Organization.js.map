{"version":3,"sources":["../../../server/app/models/Organization.js"],"names":["mongoose","require","Schema","organizationSchema","name","String","users","Owners","type","Types","ObjectId","ref","Admins","Members","spaces","timestamps","statics","findByIdentity","user_id","cb","console","log","find","Organization","model","module","exports"],"mappings":";;AAAA;;;;;;AACA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACA,IAAMC,SAASF,SAASE,MAAxB;;AAEA,IAAMC,qBAAqB,IAAID,MAAJ,CAAW;AACrCE,OAAMC,MAD+B;AAErCC,QAAO;AACNC,UAAQ,CAAC;AACRC,SAAMN,OAAOO,KAAP,CAAaC,QADX;AAERC,QAAK;AAFG,GAAD,CADF;AAKNC,UAAQ,CAAC;AACRJ,SAAMN,OAAOO,KAAP,CAAaC,QADX;AAERC,QAAK;AAFG,GAAD,CALF;AASNE,WAAS,CAAC;AACTL,SAAMN,OAAOO,KAAP,CAAaC,QADV;AAETC,QAAK;AAFI,GAAD;AATH,EAF8B;AAgBrCG,SAAQ,CAAC;AACPN,QAAMN,OAAOO,KAAP,CAAaC,QADZ;AAEPC,OAAK;AAFE,EAAD;AAhB6B,CAAX,EAoBzB,EAACI,YAAY,IAAb,EApByB,CAA3B;;AAsBAZ,mBAAmBa,OAAnB,CAA2BC,cAA3B,GAA4C,UAAUC,OAAV,EAAmBC,EAAnB,EAAuB;;AAEjEC,SAAQC,GAAR,CAAY,YAAZ,EAA0BH,OAA1B;AACA,QAAO,KAAKI,IAAL,CAAU,EAAE,gBAAgBJ,OAAlB,EAAV,EAAuCC,EAAvC,CAAP;AACD,CAJD;;AAOA,IAAMI,eAAevB,SAASwB,KAAT,CAAe,cAAf,EAA+BrB,kBAA/B,CAArB;;AAEAsB,OAAOC,OAAP,GAAiBH,YAAjB","file":"Organization.js","sourcesContent":["import _ from 'lodash';\nconst mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\n\nconst organizationSchema = new Schema({\n\tname: String,\n\tusers: {\n\t\tOwners: [{\n\t\t\ttype: Schema.Types.ObjectId,\n\t\t\tref: 'User'\n\t\t}],\n\t\tAdmins: [{\n\t\t\ttype: Schema.Types.ObjectId,\n\t\t\tref: 'User'\n\t\t}],\n\t\tMembers: [{\n\t\t\ttype: Schema.Types.ObjectId,\n\t\t\tref: 'User'\n\t\t}],\n\t},\n\tspaces: [{\n\t\t\ttype: Schema.Types.ObjectId,\n\t\t\tref: 'Space'\n\t}]\n},{timestamps: true});\n\norganizationSchema.statics.findByIdentity = function (user_id, cb) {\n\n  console.log(\"user_id:: \", user_id);\n  return this.find({ 'users.Owners': user_id }, cb);\n};\n\n\nconst Organization = mongoose.model('Organization', organizationSchema);\n\nmodule.exports = Organization;\n"]}