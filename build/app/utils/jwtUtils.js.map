{"version":3,"sources":["../../../server/app/utils/jwtUtils.js"],"names":["getAccessToken","req","parts","headers","authorization","split","length","scheme","credentials","test","decodeToken","token","getIdentityFromToken","accessToken","userData","sub"],"mappings":";;;;;;;AAAA;;;;;;AAEO,IAAMA,0CAAiB,SAAjBA,cAAiB,CAACC,GAAD,EAAS;AACrC,MAAMC,QAAQD,IAAIE,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,CAAd;AACA,MAAIH,MAAMI,MAAN,KAAiB,CAArB,EAAwB;AACtB,QAAMC,SAASL,MAAM,CAAN,CAAf;AACA,QAAMM,cAAcN,MAAM,CAAN,CAApB;AACA,QAAI,YAAYO,IAAZ,CAAiBF,MAAjB,CAAJ,EAA8B;AAC5B,aAAOC,WAAP;AACD;AACF;AACD,SAAO,KAAP;AACD,CAVM;;AAaA,IAAME,oCAAc,SAAdA,WAAc;AAAA,SAAS,yBAAUC,KAAV,CAAT;AAAA,CAApB;;AAEA,IAAMC,sDAAuB,SAAvBA,oBAAuB,CAACX,GAAD,EAAS;AAC3C,MAAMY,cAAcb,eAAeC,GAAf,CAApB;AACA,MAAMa,WAAWJ,YAAYG,WAAZ,CAAjB;AACA,SAAOC,SAASC,GAAhB;AACD,CAJM","file":"jwtUtils.js","sourcesContent":["import jwtDecode from 'jwt-decode';\n\nexport const getAccessToken = (req) => {\n  const parts = req.headers.authorization.split(' ');\n  if (parts.length === 2) {\n    const scheme = parts[0];\n    const credentials = parts[1];\n    if (/^Bearer$/i.test(scheme)) {\n      return credentials;\n    }\n  }\n  return false;\n};\n\n\nexport const decodeToken = token => jwtDecode(token);\n\nexport const getIdentityFromToken = (req) => {\n  const accessToken = getAccessToken(req);\n  const userData = decodeToken(accessToken);\n  return userData.sub;\n};\n"]}