{"version":3,"sources":["../../../server/app/models/Organization.js"],"names":["mongoose","require","Schema","organizationSchema","name","String","users","Owners","type","Types","ObjectId","ref","Admins","Members","spaces","timestamps","statics","findByIdentity","userId","cb","find","Organization","model","module","exports"],"mappings":";;AAAA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;;AAEA,IAAMC,SAASF,SAASE,MAAxB;;AAEA,IAAMC,qBAAqB,IAAID,MAAJ,CAAW;AACpCE,QAAMC,MAD8B;AAEpCC,SAAO;AACLC,YAAQ,CAAC;AACPC,YAAMN,OAAOO,KAAP,CAAaC,QADZ;AAEPC,WAAK;AAFE,KAAD,CADH;AAKLC,YAAQ,CAAC;AACPJ,YAAMN,OAAOO,KAAP,CAAaC,QADZ;AAEPC,WAAK;AAFE,KAAD,CALH;AASLE,aAAS,CAAC;AACRL,YAAMN,OAAOO,KAAP,CAAaC,QADX;AAERC,WAAK;AAFG,KAAD;AATJ,GAF6B;AAgBpCG,UAAQ,CAAC;AACPN,UAAMN,OAAOO,KAAP,CAAaC,QADZ;AAEPC,SAAK;AAFE,GAAD;AAhB4B,CAAX,EAoBxB,EAAEI,YAAY,IAAd,EApBwB,CAA3B;;AAsBAZ,mBAAmBa,OAAnB,CAA2BC,cAA3B,GAA4C,SAASA,cAAT,CAAwBC,MAAxB,EAAgCC,EAAhC,EAAoC;AAC9E,SAAO,KAAKC,IAAL,CAAU,EAAE,gBAAgBF,MAAlB,EAAV,EAAsCC,EAAtC,CAAP;AACD,CAFD;;AAIA,IAAME,eAAerB,SAASsB,KAAT,CAAe,cAAf,EAA+BnB,kBAA/B,CAArB;;AAEAoB,OAAOC,OAAP,GAAiBH,YAAjB","file":"Organization.js","sourcesContent":["const mongoose = require('mongoose');\n\nconst Schema = mongoose.Schema;\n\nconst organizationSchema = new Schema({\n  name: String,\n  users: {\n    Owners: [{\n      type: Schema.Types.ObjectId,\n      ref: 'User',\n    }],\n    Admins: [{\n      type: Schema.Types.ObjectId,\n      ref: 'User',\n    }],\n    Members: [{\n      type: Schema.Types.ObjectId,\n      ref: 'User',\n    }],\n  },\n  spaces: [{\n    type: Schema.Types.ObjectId,\n    ref: 'Space',\n  }],\n}, { timestamps: true });\n\norganizationSchema.statics.findByIdentity = function findByIdentity(userId, cb) {\n  return this.find({ 'users.Owners': userId }, cb);\n};\n\nconst Organization = mongoose.model('Organization', organizationSchema);\n\nmodule.exports = Organization;\n"]}